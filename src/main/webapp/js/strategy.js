
$(function(){
	/*strategyTabDivLeft hidetable*/
	
	$(".ul_strategyTab li").click(function(){
		var index = $(this).attr("index");
		if(index==3){
			$("#strategyTab").css("height","0px");
			$("#hidetable").hide();
			$(".dd").hide();
			$("#main").hide();
			$(".li_future:eq(3)").css({"background-color":"#037ed4","color":"#fff","height":"44px"});
			$(".ul_strategyTab .active").css({"color": "#414141","background-color":"#f1f1f1"});
			$(".li_future:eq(1)").css({"color": "#414141","background-color":"#f1f1f1"});
			$(".li_future:eq(2)").css({"color": "#414141","background-color":"#f1f1f1"});
			eq();
			$("#eq").show();
			$("#er").hide();
			$("#et").hide();
		}else if(index==10){
			$("#strategyTab").css("height","520px");
			$("#hidetable").show();
			$(".dd").show();
			$("#main").show();
			$(".ul_strategyTab .active").css({"background-color":"#037ed4","color":"#fff","height":"44px"});
			$(".li_future:eq(3)").css({"color": "#414141","background-color":"#f1f1f1"});
			$(".li_future:eq(1)").css({"color": "#414141","background-color":"#f1f1f1"});
			$(".li_future:eq(2)").css({"color": "#414141","background-color":"#f1f1f1"});
			$("#eq").hide();
			$("#er").hide();
			$("#et").hide();
		}else if(index==1){
			$("#strategyTab").css("height","0px");
			$("#hidetable").hide();
			$(".dd").hide();
			$("#main").hide();
			$(".li_future:eq(1)").css({"background-color":"#037ed4","color":"#fff","height":"44px"});
			$(".ul_strategyTab .active").css({"color": "#414141","background-color":"#f1f1f1"});
			$(".li_future:eq(3)").css({"color": "#414141","background-color":"#f1f1f1"});
			$(".li_future:eq(2)").css({"color": "#414141","background-color":"#f1f1f1"});
			$("#er").show();
			$("#eq").hide();
			$("#et").hide();
			er();
		}else if(index==2){
			$("#strategyTab").css("height","0px");
			$("#hidetable").hide();
			$(".dd").hide();
			$("#main").hide();
			$("#er").hide();
			$("#eq").hide();
			$("#et").show();
			$(".li_future:eq(2)").css({"background-color":"#037ed4","color":"#fff","height":"44px"});
			$(".ul_strategyTab .active").css({"color": "#414141","background-color":"#f1f1f1"});
			$(".li_future:eq(3)").css({"color": "#414141","background-color":"#f1f1f1"});
			$(".li_future:eq(1)").css({"color": "#414141","background-color":"#f1f1f1"});
			et();
		}
	})
function eq(){
	var myChart = echarts.init(document.getElementById('eq'));
	option = {
    title : {
        text: '',
        subtext: '',
        x: 'center'
    },
    tooltip : {
        trigger: 'axis',
    },
    legend: {
        data:[],
        x: 'left'
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {show: true, type: ['line', 'bar']},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    dataZoom : {
        show : true,
        realtime : true,
        start : 0,
        end : 100
    },
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
            axisLine: {onZero: false},
            data : [
                '2009/6/12 2:00', '2009/6/12 3:00', '2009/6/12 4:00', '2009/6/12 5:00', '2009/6/12 6:00', '2009/6/12 7:00', '2009/6/12 8:00', '2009/6/12 9:00', '2009/6/12 10:00', '2009/6/12 11:00', '2009/6/12 12:00', '2009/6/12 13:00', '2009/6/12 14:00', '2009/6/12 15:00', '2009/6/12 16:00', '2009/6/12 17:00', '2009/6/12 18:00', '2009/6/12 19:00', '2009/6/12 20:00', '2009/6/12 21:00', '2009/6/12 22:00', '2009/6/12 23:00',
                '2009/6/13 0:00', '2009/6/13 1:00', '2009/6/13 2:00', '2009/6/13 3:00', '2009/6/13 4:00', '2009/6/13 5:00', '2009/6/13 6:00', '2009/6/13 7:00', '2009/6/13 8:00', '2009/6/13 9:00', '2009/6/13 10:00', '2009/6/13 11:00', '2009/6/13 12:00', '2009/6/13 13:00', '2009/6/13 14:00', '2009/6/13 15:00', '2009/6/13 16:00', '2009/6/13 17:00', '2009/6/13 18:00', '2009/6/13 19:00', '2009/6/13 20:00', '2009/6/13 21:00', '2009/6/13 22:00', '2009/6/13 23:00', 
                '2009/6/14 0:00', '2009/6/14 1:00', '2009/6/14 2:00', '2009/6/14 3:00', '2009/6/14 4:00', '2009/6/14 5:00', '2009/6/14 6:00', '2009/6/14 7:00', '2009/6/14 8:00', '2009/6/14 9:00', '2009/6/14 10:00', '2009/6/14 11:00', '2009/6/14 12:00', '2009/6/14 13:00', '2009/6/14 14:00', '2009/6/14 15:00', '2009/6/14 16:00', '2009/6/14 17:00', '2009/6/14 18:00', '2009/6/14 19:00', '2009/6/14 20:00', '2009/6/14 21:00', '2009/6/14 22:00', '2009/6/14 23:00', 
                '2009/6/15 0:00', '2009/6/15 1:00', '2009/6/15 2:00', '2009/6/15 3:00', '2009/6/15 4:00', '2009/6/15 5:00', '2009/6/15 6:00', '2009/6/15 7:00', '2009/6/15 8:00', '2009/6/15 9:00', '2009/6/15 10:00', '2009/6/15 11:00', '2009/6/15 12:00', '2009/6/15 13:00', '2009/6/15 14:00', '2009/6/15 15:00', '2009/6/15 16:00', '2009/6/15 17:00', '2009/6/15 18:00', '2009/6/15 19:00', '2009/6/15 20:00', '2009/6/15 21:00', '2009/6/15 22:00', '2009/6/15 23:00', 
                '2009/6/15 0:00', '2009/6/16 1:00', '2009/6/16 2:00', '2009/6/16 3:00', '2009/6/16 4:00', '2009/6/16 5:00', '2009/6/16 6:00', '2009/6/16 7:00', '2009/6/16 8:00', '2009/6/16 9:00', '2009/6/16 10:00', '2009/6/16 11:00', '2009/6/16 12:00', '2009/6/16 13:00', '2009/6/16 14:00', '2009/6/16 15:00', '2009/6/16 16:00', '2009/6/16 17:00', '2009/6/16 18:00', '2009/6/16 19:00', '2009/6/16 20:00', '2009/6/16 21:00', '2009/6/16 22:00', '2009/6/16 23:00', 
                '2009/6/15 0:00', '2009/6/17 1:00', '2009/6/17 2:00', '2009/6/17 3:00', '2009/6/17 4:00', '2009/6/17 5:00', '2009/6/17 6:00', '2009/6/17 7:00', '2009/6/17 8:00', '2009/6/17 9:00', '2009/6/17 10:00', '2009/6/17 11:00', '2009/6/17 12:00', '2009/6/17 13:00', '2009/6/17 14:00', '2009/6/17 15:00', '2009/6/17 16:00', '2009/6/17 17:00', '2009/6/17 18:00', '2009/6/17 19:00', '2009/6/17 20:00', '2009/6/17 21:00', '2009/6/17 22:00', '2009/6/17 23:00', 
                '2009/6/18 0:00', '2009/6/18 1:00', '2009/6/18 2:00', '2009/6/18 3:00', '2009/6/18 4:00', '2009/6/18 5:00', '2009/6/18 6:00', '2009/6/18 7:00', '2009/6/18 8:00', '2009/6/18 9:00', '2009/6/18 10:00', '2009/6/18 11:00', '2009/6/18 12:00', '2009/6/18 13:00', '2009/6/18 14:00', '2009/6/18 15:00', '2009/6/18 16:00', '2009/6/18 17:00', '2009/6/18 18:00', '2009/6/18 19:00', '2009/6/18 20:00', '2009/6/18 21:00', '2009/6/18 22:00', '2009/6/18 23:00', 
                '2009/6/15 0:00', '2009/6/19 1:00', '2009/6/19 2:00', '2009/6/19 3:00', '2009/6/19 4:00', '2009/6/19 5:00', '2009/6/19 6:00', '2009/6/19 7:00', '2009/6/19 8:00', '2009/6/19 9:00', '2009/6/19 10:00', '2009/6/19 11:00', '2009/6/19 12:00', '2009/6/19 13:00', '2009/6/19 14:00', '2009/6/19 15:00', '2009/6/19 16:00', '2009/6/19 17:00', '2009/6/19 18:00', '2009/6/19 19:00', '2009/6/19 20:00', '2009/6/19 21:00', '2009/6/19 22:00', '2009/6/19 23:00', 
                '2009/6/20 0:00', '2009/6/20 1:00', '2009/6/20 2:00', '2009/6/20 3:00', '2009/6/20 4:00', '2009/6/20 5:00', '2009/6/20 6:00', '2009/6/20 7:00', '2009/6/20 8:00', '2009/6/20 9:00', '2009/6/20 10:00', '2009/6/20 11:00', '2009/6/20 12:00', '2009/6/20 13:00', '2009/6/20 14:00', '2009/6/20 15:00', '2009/6/20 16:00', '2009/6/20 17:00', '2009/6/20 18:00', '2009/6/20 19:00', '2009/6/20 20:00', '2009/6/20 21:00', '2009/6/20 22:00', '2009/6/20 23:00',
                '2009/6/21 0:00', '2009/6/21 1:00', '2009/6/21 2:00', '2009/6/21 3:00', '2009/6/21 4:00', '2009/6/21 5:00', '2009/6/21 6:00', '2009/6/21 7:00', '2009/6/21 8:00', '2009/6/21 9:00', '2009/6/21 10:00', '2009/6/21 11:00', '2009/6/21 12:00', '2009/6/21 13:00', '2009/6/21 14:00', '2009/6/21 15:00', '2009/6/21 16:00', '2009/6/21 17:00', '2009/6/21 18:00', '2009/6/21 19:00', '2009/6/21 20:00', '2009/6/21 21:00', '2009/6/21 22:00', '2009/6/21 23:00',
                '2009/6/22 0:00', '2009/6/22 1:00', '2009/6/22 2:00', '2009/6/22 3:00', '2009/6/22 4:00', '2009/6/22 5:00', '2009/6/22 6:00', '2009/6/22 7:00', '2009/6/22 8:00', '2009/6/22 9:00', '2009/6/22 10:00', '2009/6/22 11:00', '2009/6/22 12:00', '2009/6/22 13:00', '2009/6/22 14:00', '2009/6/22 15:00', '2009/6/22 16:00', '2009/6/22 17:00', '2009/6/22 18:00', '2009/6/22 19:00', '2009/6/22 20:00', '2009/6/22 21:00', '2009/6/22 22:00', '2009/6/22 23:00',
                '2009/6/23 0:00', '2009/6/23 1:00', '2009/6/23 2:00', '2009/6/23 3:00', '2009/6/23 4:00', '2009/6/23 5:00', '2009/6/23 6:00', '2009/6/23 7:00', '2009/6/23 8:00', '2009/6/23 9:00', '2009/6/23 10:00', '2009/6/23 11:00', '2009/6/23 12:00', '2009/6/23 13:00', '2009/6/23 14:00', '2009/6/23 15:00', '2009/6/23 16:00', '2009/6/23 17:00', '2009/6/23 18:00', '2009/6/23 19:00', '2009/6/23 20:00', '2009/6/23 21:00', '2009/6/23 22:00', '2009/6/23 23:00', 
                '2009/6/24 0:00', '2009/6/24 1:00', '2009/6/24 2:00', '2009/6/24 3:00', '2009/6/24 4:00', '2009/6/24 5:00', '2009/6/24 6:00', '2009/6/24 7:00', '2009/6/24 8:00', '2009/6/24 9:00', '2009/6/24 10:00', '2009/6/24 11:00', '2009/6/24 12:00', '2009/6/24 13:00', '2009/6/24 14:00', '2009/6/24 15:00', '2009/6/24 16:00', '2009/6/24 17:00', '2009/6/24 18:00', '2009/6/24 19:00', '2009/6/24 20:00', '2009/6/24 21:00', '2009/6/24 22:00', '2009/6/24 23:00', 
                '2009/6/25 0:00', '2009/6/25 1:00', '2009/6/25 2:00', '2009/6/25 3:00', '2009/6/25 4:00', '2009/6/25 5:00', '2009/6/25 6:00', '2009/6/25 7:00', '2009/6/25 8:00', '2009/6/25 9:00', '2009/6/25 10:00', '2009/6/25 11:00', '2009/6/25 12:00', '2009/6/25 13:00', '2009/6/25 14:00', '2009/6/25 15:00', '2009/6/25 16:00', '2009/6/25 17:00', '2009/6/25 18:00', '2009/6/25 19:00', '2009/6/25 20:00', '2009/6/25 21:00', '2009/6/25 22:00', '2009/6/25 23:00', 
                
            ]
        }
    ],
    color:['rgb(155, 166, 175)'],
    yAxis : [
        {
            name : '',
            type : 'value',
            max : 500
        },
        {
            name : '',
            type : 'value',
            axisLabel : {
                formatter: function(v){
                    return - v;
                }
            }
        }
    ],
    series : [
        {
            name:'回辙值',
            type:'line',
            yAxisIndex:1,
            itemStyle: {normal: {areaStyle: {type: 'default'}}},
           
        }
    ]
};
myChart.setOption(option);
loadData(option);
function loadData(option) { 
	var sid=document.getElementById("sid").innerHTML;
			$.ajax({
				type : 'post',	//传输类型
				async : false,	//同步执行
				url : '/account/sid',	
				data : "sid="+sid,
				dataType : 'json', //返回数据形式为json
				success : function(result) {
					if (result) {
							//初始化series[0]的data
						    option.series[0].data = [];
						for (var i=0; i<result.length; i++) {
							option.series[0].data.push(result[i].retracement*= -1);
						} 
					}
					myChart.setOption(option);
				},
				error : function(errorMsg) {
					alert("加载数据失败"+sid);
				}
			});//AJAX
}

	
	}
	
	function er(){
		var myChart = echarts.init(document.getElementById('er'));
		var xAxisData = [];

		for (var i = 0; i < 10; i++) {
		    xAxisData.push('Class' + i);
		}

		var itemStyle = {
		    normal: {
		    },
		    emphasis: {
		        barBorderWidth: 1,
		        shadowBlur: 10,
		        shadowOffsetX: 0,
		        shadowOffsetY: 0,
		        shadowColor: 'rgba(0,0,0,0.5)'
		    }
		};

		option = {
		    backgroundColor: '#fff',
		    legend: {
		        data: [],
		        align: 'left',
		        left: 10
		    },
		    brush: {
		        toolbox: ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'],
		        xAxisIndex: 0
		    },
		    toolbox: {
		        feature: {
		            magicType: {
		                type: ['stack', 'tiled']
		            },
		            dataView: {}
		        }
		    },
		    tooltip: {},
		    dataZoom : {
		        show : true,
		        realtime : true,
		        start : 0,
		        end : 100
		    },
		    xAxis: {
		        data: ['2009/6/12 2:00', '2009/6/12 3:00', '2009/6/12 4:00', '2009/6/12 5:00', '2009/6/12 6:00', '2009/6/12 7:00', '2009/6/12 8:00', '2009/6/12 9:00', '2009/6/12 10:00', '2009/6/12 11:00', '2009/6/12 12:00', '2009/6/12 13:00', '2009/6/12 14:00', '2009/6/12 15:00', '2009/6/12 16:00', '2009/6/12 17:00', '2009/6/12 18:00', '2009/6/12 19:00', '2009/6/12 20:00', '2009/6/12 21:00', '2009/6/12 22:00', '2009/6/12 23:00',
		                '2009/6/13 0:00', '2009/6/13 1:00', '2009/6/13 2:00', '2009/6/13 3:00', '2009/6/13 4:00', '2009/6/13 5:00', '2009/6/13 6:00', '2009/6/13 7:00', '2009/6/13 8:00', '2009/6/13 9:00', '2009/6/13 10:00', '2009/6/13 11:00', '2009/6/13 12:00', '2009/6/13 13:00', '2009/6/13 14:00', '2009/6/13 15:00', '2009/6/13 16:00', '2009/6/13 17:00', '2009/6/13 18:00', '2009/6/13 19:00', '2009/6/13 20:00', '2009/6/13 21:00', '2009/6/13 22:00', '2009/6/13 23:00', 
		                '2009/6/14 0:00', '2009/6/14 1:00', '2009/6/14 2:00', '2009/6/14 3:00',],
		        name: 'X Axis',
		        silent: false,
		        axisLine: {onZero: true},
		        splitLine: {show: false},
		        splitArea: {show: false}
		    },
		    yAxis: {
		        inverse: true,
		        splitArea: {show: false}
		    },
		    color:['rgb(165, 210, 216)','rgb(92, 136, 165)'],
		    series: [
		        {
		            name: '负',
		            type: 'bar',
		            itemStyle: itemStyle,
		           
		        },
		        {
		            name: '正',
		            type: 'bar',
		            itemStyle: itemStyle,
		            
		        }
		    ]
		};
	myChart.setOption(option);
	loadData(option);
	function loadData(option) { 
		var sid=document.getElementById("sid").innerHTML;
				$.ajax({
					type : 'post',	//传输类型
					async : false,	//同步执行
					url : '/account/sid',	
					data : "sid="+sid,
					dataType : 'json', //返回数据形式为json
					success : function(result) {
						if (result) {
								//初始化series[0]的data
							    option.series[0].data = [];
							    option.series[1].data = [];
							for (var i=0; i<result.length; i++) {
								option.series[0].data.push(result[i].firmoffer*= -1);
								option.series[1].data.push(result[i].equity);
							} 
							  /* option.xAxis[0].data=[];
							for (var i=0; i<result.length; i++) {
								option.xAxis[0].data.push(result[i].atime);
							}*/
							
						}
						myChart.setOption(option);
					},
					error : function(errorMsg) {
						alert("加载数据失败"+sid);
					}
				});//AJAX
	}
	}
	
	function et(){
		var myChart = echarts.init(document.getElementById('et'));
		option = {
			    xAxis: {
			        type: 'category',
			        data: ['胜率','收益率','次数占比']
			    },tooltip : {
			        trigger: 'axis',
			        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
			            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
			        }
			    },
			    yAxis: {
			        type: 'value',
			        data :['收益率']
			    },
			    series: [{
			    	name:'正',
			    	barWidth: 50,
			        type: 'bar'
			    },
			    {
			    	name:'负',
			    	barWidth: 50,
			        type: 'bar'
			    }
			    ]
			};
			myChart.setOption(option);
			loadData(option);
			function loadData(option) { 
				var sid=document.getElementById("sid").innerHTML;
						$.ajax({
							type : 'post',	//传输类型
							async : false,	//同步执行
							url : '/accountmaxmin/sid',	
							data : "sid="+sid,
							dataType : 'json', //返回数据形式为json
							success : function(result) {
								if (result) {
										//初始化series[0]的data
									    option.series[0].data = [];
									    option.series[1].data = [];
									for (var i=0; i<result.length; i++) {
										option.series[0].data.push(result[i].equity);
										option.series[1].data.push(result[i].firmoffer);
									}
								}
								myChart.setOption(option);
							},
							error : function(errorMsg) {
								alert("加载数据失败"+sid);
							}
						});//AJAX
			}
			
			
			
	}
	
	
	
});
				
			